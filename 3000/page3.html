<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<link rel="stylesheet" href="css/index.css">
	<link rel="stylesheet" href="css/page.css">
</head>

<body>
	<div id="box">
		<div class="logo">
			<a href="#"><img src="img/44-1.jpg" class="aa"></a>
			<a href="#"><img src="img/daoh-2.jpg" class="bb"></a>
			<a href="#"><img src="img/daoh-3.jpg" class="cc"></a>
		</div>

		<div class="box3">
			<div class="boxx3 desc-div">
				<!-- <a href="#"><img src="img/55-2.jpg" ></a> -->
				<p>Shopping Cart</p>
				<p>Continue Shopping</p>
				<p>Empty Cart</p>
			</div>

			<div class="box4-page3">
				<!-- <img src="img/55.jpg" alt="">
				<img src="img/55-1.jpg" alt=""> -->
				<div class="left">
					<img src="img/55.jpg" alt="">
				</div>
				<div class="right">
					<span class="name">Square Side Table</span>
					<span class="input-num">
						<span id="sub">-</span>
						<input id="inputNum" type="text" min="1" autocomplete="off" value="1" />
						<span id="add">+</span>
					</span>
					<span class="price" id="price" data-price="365">$365</span>
				</div>
			</div>
			<button onclick="jumpTo('page4.html')">CHECK OUT</button>
		</div>
		<!-- <div class="an">
			<a href="page4.html"><img src="img/an1.jpg" alt=""></a>
		</div> -->


	</div>
	<script>
		// 减
		document.querySelector('#sub').addEventListener('click', function () {
			const inputNum = document.querySelector('#inputNum')
			const priceSpan = document.querySelector('#price')
			const unitPrice = priceSpan.getAttribute('data-price')
			if (parseInt(inputNum.value) && parseInt(inputNum.value) > 1) {
				const num = parseInt(inputNum.value) - 1
				inputNum.value = num
				price.innerText = '$' + unitPrice * num
			} else {
				inputNum.value = 1
				price.innerText = '$' + unitPrice
			}
		})

		// 加
		document.querySelector('#add').addEventListener('click', function () {
			const inputNum = document.querySelector('#inputNum')
			const priceSpan = document.querySelector('#price')
			const unitPrice = priceSpan.getAttribute('data-price')
			if (parseInt(inputNum.value)) {
				const num = parseInt(inputNum.value) + 1
				inputNum.value = num
				price.innerText = '$' + unitPrice * num
			} else {
				inputNum.value = 1
				price.innerText = '$' + unitPrice
			}
		})

		// 输入框输入数值
		document.querySelector('#inputNum').addEventListener('change', function (e) {
			const val = e.target.value
			const inputNum = document.querySelector('#inputNum')
			const priceSpan = document.querySelector('#price')
			const unitPrice = priceSpan.getAttribute('data-price')
			if (val > 1) {
				let num = Math.round(val) ? Math.round(val) : 1
				inputNum.value = num
				price.innerText = '$' + unitPrice * num
			} else {
				inputNum.value = 1
				price.innerText = '$' + unitPrice
			}
		})

		// 按钮跳转
		function jumpTo(page) {
			const link = document.createElement('a')
			link.href = page
			link.click()
		}
	</script>
</body>

</html>